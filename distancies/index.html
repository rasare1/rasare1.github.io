<!doctype html>
<html lang="ca">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Problema de navegació -Tarifa-Ceuta</title>

  <script>
    window.MathJax= {
      tex: {inlineMath:[['$','$'], ['\\(','\\)']], displayMath: [['$$','$$']]},
      svg: {fontCache:'global'}
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <style>
    /*La linia 16 diu que esta en el body, agafa el tipus de lletra Arial i si no el troba agafa lletra 
    Helvetica, i sino agafa qualsevol lletra. Margin de 20px al voltant de tot el contingut per asegurar-no de separar contingut de tots quatre costats
    line-height és el espai vertical entre les linies de text, que per defecte depèn del tipus de lletra i acostuma a ser 1,2,3,4,
    significa que entre una linia, la següent hi ha una separació del 120% o 140%. Nosaltres hem triat linies més separades un
    120%. El color #123 és un color hexadecimal i sempre té 6 digits rrggbb, sent cada lletr un número entre el 0 i el 9 o A(10)B(11)C(13)D(13)E(14)F(15).
    Quan veiem 3 números estem veien un hexadecimal abreujat i realment es el 112233 i aquest correspon al rgb17,34,51 en decimal que és blau fosc.*/
    
   body{font-family:Arial,Helvetica,sans-serif;margin:20px;line-height:1.7;color:#123}
    /*La linia 26 canvia els colors*/
    h1,h2,h3{color:#0b3d91}
    /*La linia 28 és una clase que afecta a la linia 117 on s'escriu les fórmules matemàtiques  i fa que les fòrmules tinguin un color
    gris clar*/
    .formula{background:#f7f7f9;padding:12px;border-radius:6px;margin:10px 0;text-align:center}
    table{border-collapse:collapse;margin:10px 0}
    /*Espai intern.  Es un gris clar perque, gris es quan els 3 numeros son iguals.
    C és un numero hexadecimal(17), i es de color clar perquè s'aproxima #FFFFF que es el gris més clar. */
    td,th{padding:6px;border:1px solid #ccc}
    /**/
    .step{margin:10px 0;padding-left:15px;border-left:3px solid #0b3d91}
    /* Quan tenim un punt al principi de css és una classe i es pot posar més cops, quan teim un #, és un identificador per tant es
    utilitzar una vegada.
    La classe step surt a les linies 70,71,79,80..Perquè ens permet escriure els passos detallats amb les fòrmules .
    Volem un espai al voltants de cada pas matemàtic de 10px en totes les dirreccions. També volem que només a la esquerra 
    hi hagi un marge interior (paadding left). Vull una barra vertical blava sólida de 3px per a marcar cada pas/step,
    és de 3px de gruix i sólida*/
    
    .note{margin:8px 0;padding:8px;background:#fff8dc;border-left:4px solid #ffcc00}
    /*Note es una nota explicativa que volem que surti separada i destacada del text, li posem un marge vertical 
    al voltant de la nota  de 8px i també intern de la mateixa mida, li posem un background diferent color crema
    i una barra groga de 4px a l'esquerra*/
    img { 
      /*La linia 50 afecta a totes les imatges del document*/
    max-width: 100%;
      /* La línia 49 fa que la imatge sigui més ample que el seu contenidor i que s'intenti apliar al 100%*/
    height:auto;
      /*Això fa que mantengui les proporcions de la imatge, perquè li hem dit que l alçada sigui automàtica i que
      la aplada sigui la mateixa que la del contenidor. Això farà s'adapti la imatge al ample de la pantalla i que no
      es defori*/
    display: block;/* opcional: elimina pequeños espacios debajo de la imagen*/
      /*Evita petits espais sota la imatge que apareixen per defecte am línies, si no poso res enten display: inline i
      deix un espai a sota de la imatge que volem*/
    }
    
  </style>
</head>
<body>
  <h1>Problema de navegació - Tarifa - Ceuta</h1>
  <!-- Hi es títol gran, h2 mes petit(n subtítol), hi es encara més petit. Existeixen h1,h5 i h6 que poden ser
  més petits que el paràgraf, però depèn del tipus/font de lletra. -->
  
  <h2>0) Conversió de cordenades (DMS - decimal)</h2>
  <p>Per treballar amb fórmules trigonomètriques, necessitem les coordenades en decimal. Acontinuació convertim pas a pas.</p>

  <h3>Tarifa</h3>
  <!-- Les taules han tenir la etiqueta table per començar i acabar, cada filera/línia de la taula s'anomena 
  en anglés row i l'etiqueta tr vol dir table row/filera de taula i ha de posar-se al principi i al final de table row.-->
<table>
  
<tr><th>Latitud (DMS)</th><td>36° 0′ 45" N</td></tr>
<tr><th>Longitud (DMS)</th><td>5° 36' 20.16" W</td></tr>
 </table>                                                    
<div class="step">Per convertir a decimal: $$Lat = 36+\frac{0}{60}+\frac{45}{3600} =
  
36.0125^\circ$$</div>
  
<div class="step">I la longitud: SSLon = -(5+\frac{36}{60}+\frac{20.16}{3600}) =-5.6056^\circ$$</div>
  
/*Un divisor(div) com el de la linia 82 és un troç de codi que te un sistema de identificador que pot ser un id,
  en comptes de class= posarem id= i en aquest segon cas només podria haver una sola vegada, per exemple id="step1" i no 
  una classe. Recorda que en el codi css tenim un <step la línia 44, si tinguessim "step1" com a identificador hauriem 
  de posar a la línia 44 #step1. Quina es la funcio de la classe i del identificador? La classe el podem posar més d'un cop i és més general, i el id es un
  element únic*/
  
<h3>Ceuta</h3>

<table>

<tr><th>Latitud (DMS)</th><td>35° 53′ 17.88" N</td></tr>

  <tr><th>Longitud (DMS)</th><td>5° 18' 56.16" W</td></tr>

</table>
  <!--A continuació veiem diferents codis amb javascript emprant la biblioteca MathJax, el doble dolar serveix per avisar al navegador de 
    continuació el codi es MathJax i l'ha de renderitzar o visualitzar segons el LaTeX que és el llenguatge matemàtic.
    Anem a explicar els diferents símbols:
    \franc{A} {B} significa que dividim A entre B{A/B}.
    35.8883^\circ significa el ^ (sombreret) elevat a i la barra inclinada circ (/circ) significa º el símbol del grau.
    Si poso \Delta és una delta majuscula que te forma de tringle
    \Lambda
    \varphi es la lletra grega φ, -->

<div class="step">Latitud en decimal: SSLat = 35+ \frac{53}{60}+\frac{17.88}{3600} =

35.8883^\circ$$</div>

<div class="step">Longitud en decimal: $$Lon = -(5+\frac{18}{60}+\frac{56.16}{3600}) =

-5.3156^\circ~$$</div>

<h2>1) Diferències angulars</h2>

<p>Calcularem la diferència de latitud i longitud per després aplicar Haversine:</p>

<div class="step">$$\Delta \varphi = Lat_^{Ceuta} - Lat_{Tarifa} = -0.1242^\circ$$</div>

<div class="step">$$\Delta \lambda = Lon_¨{Ceuta} - Lon_{Tarifa} = 0.2900^\circ$$</div>

<p>Convertim a radians, ja que trigonometria utilitza radians:</p>

<div class="step">$$\Delta \varphi_{rad) = -0.1242 \times \frac{\pi}{180} = -0.002166\ rad$$</div>

<div class="step">$$\Delta \lambda_(rad} = 0.2900 \times \frac{\pi} (180) = 0.005061\

rad$$</div>

<h2>2) Distància amb Haversine</h2>

<p>Haversine permet calcular distància sobre la superfície esférica de la Terra:</p>

<div class="step">$$a = \sin^2\left(\frac{\Delta \varphi}{2}\right)+\cos(Lat_{Tarifa} \frac{\pi} {180})\cos(Lat_{Ceuta} \frac{\pi}{180}) \sin^2\left(\frac{\Delta \lambda}{2}\right)$$</div>

<div class="step">$$a \approx 3.39 \times 10^{-6}$$</div>

<div class="step">$$c = 2\arcsin(\sqrt{a})\approx 0.003567 rad$$</div>

\approx 15.945 NMSS</div>

<div class="step">Convertim a milles nautiques: SSd_{NM} = \frac{6371 \cdot c) {1.852)

<h2>3) Rumb inicial</h2>

<p>El rumb indica la direcció inicial cap a Ceuta:</p>

<div class="step">$$y = \sin(\Delta \lambda_(rad)) \cos(Lat_{Ceuta} \frac{\pi}{180})\approx

0.004155</div>

<div class="step">$$x = \cos(Lat_{Tarifa} \frac{\pi}{180})\sin(Lat_{Ceuta} \frac{\pi}{180})-

\sin(Lat_(farila) \frac{\pi}{180})\cos(Lat_{Ceuta} \frac{\pi}{180}) \cos(\Delta \lambda_(rad}) \approx 0.001955</div>

<div class="step">$$\theta = \arctan2(y,x) \approx 117.79^\circ$$</div>

<h2>4) Aproximació plana</h2>

<p>Per veure-ho de manera geomètrica simple:</p>

NMSS</div>

<div class="step">Component Nord-Sud: $SNS = \Delta Lat|\times 60 = 0.1242 \times 60 = 7.45)

<h2>Analitzant longitud vs latitud</h2>

<p class="note">Un grau de latitud és constant a tota la Terra i representa aproximadament 60 
  milles nàutiques (111 km) entre paral·lels, perquè les línies de latitud són paral·leles i equidistants. 
  En canvi, un grau de longitud varia amb la latitud. A l'equador, un grau de longitud també 
  correspon a unes 60 milles nàutiques, però a mesura que ens acostem als pols, la distância entre dos
  meridians consecutius disminueix, ja que les línies de longitud convergeixen cap als pols, fins a 
  trobar-se a zero a l'extrem nord i sud. Per calcular la distància real corresponent a un canvi de 
  longitud en qualsevol latitud, hem de multiplicar la diferència de longitud per el factor \
  (\cos(lat\_mitjana)\). Així, encara que la diferència angular sigui la mateixa, la distância sobre la 
  superfície terrestre depèn de la latitud, fent que un grau de longitud no sigui equivalent a un grau de 
  latitud fora de l'equador. Aquesta correcció és essencial per obtenir distàncies precises quan es navega o es fa cartografia.</p>
  // Si vaig a islandia la latitud es de 60 graus, i la la latitud és 0,5 aixo vol dir que un segon de Latidud. En el pol nord i el pol sur l'angle 
  de latitud és 90 grau i el cos 90 es 0 per tant tenim 0 milles. 
  
  <div class="step">Longitud a lat mitjana: $$1^\circ lon = 60 \cos(35.95^\circ) \approx 49.2\ NM$

$</div>

<div class="step">Component Est-Oest: $$EW = \Delta Lon \times 49.2 = 0.2900 \times 49.2

\approx 14.27 NM$$</div>

<div class="step">Distància total: \$\$d= backslash sqrt\ N * S ^ 2 +EW^ ^2 \ \approx 16.1\ NM$$</div>

<h2>5) Temps de travessia</h2>

<p>Temps = distància / velocitat:</p>

<div class="step">$$t = \frac{d_{NM}}{V} = \frac{15.945}{6} = 2.6575\ h$$</div>

<p>Convertim hores decimals a h:m:s pas a pas:</p>

<div class="step">Hores: $$H = \lfloor 2.6575 \rfloor =2h\$\$</ div >

<div class="step">Minuts decimals: $$(2.6575-2) \times 60=39.45m\$\$</ div > <div class="step">Minuts sencers: $$M = \lfloor 39.45 \rfloor = 39m$$</div>

<div class="step">Segons: $$(39.45-39) \times 60 = 27sSS </div>

<div class="step">Temps final: \$\$t= 2h * 1/39 m backslash:27s\$\$</div>

<div class="step">Hora d'arribada: \$\$ (9/42) / 54 + (2/39) / 27 =12:22:21\$\$</div>

<h2>6) Consum i cost de combustible le</ h * 2 >

<div class="step">Consum total: $$Q = 18 \times 2.6575 \approx 47.84\ L$$</div>

<div class="step">Cost: \$\$Cost= 47.84 \times 1.425 \approx 68.17\ \text{€}$$</div>

<h2>7) Vector de velocitat, corrent i vent (detall pas a pas)</h2>

<p>Per calcular la trajectòria real de la nau, hem de combinar el vector de velocitat de la nau amb els vectors de corrent i vent. Ho fem en components cartesianes (Est = u, Nord = v) amb cada rumb.</p>

<h3>Formules generals</h3>

<div class="formula ">\$\$ u = s \sin\theta, \quad v = s \cos\theta$$

On $s$ és la velocitat del vector i $\theta$ el rumb en graus.</div>

<h3>Pas J: Na</h3>

<p>Velorita de la nau g_{s} = 61 kn$, rumb $\theta = 117.8 deg * S :</p>

<div c'ass "ster Calcul del component Est (u):<br>\$\$u \ \{nau\} = 6 \times \sin(117.8°) \approx

5.3i5u < inv >

<div class="step">Calcul del component Nord (v): <br>\$\$v\ \{nau\} = 6 \times \cos(117.8°) \approx -2.80\$\$</ div >

<h3>Pas 2: Corrent</h3>

<p>Velocitat de la corrent \$ s = 1.51 kn$, rumb $\theta = 120°$:</p>

<div class="step">$$u_{corrent} = 1.5 \times \sin(120°) \approx 1.30$$</div>

<div class="step">$$v_{corrent} = 1.5 \times \cos(120°) \approx -0.75\$\$</ div >

<h3>Pas 3: Vent</h3>

<p>Velocitat del vent \$ s = 121 kn$, rumb $\theta = 150°$:</p>

<div class="step">$$u_{vent} = 12 \times \sin(150°) \approx 6.00$$</div>

<div class="step">$$v_{vent} = 12 \times \cos(150°) \approx -10.39\$\$</ div >

<h3>Pas 4: Suma de vectors</h3>

<p>Sumem component a component per obtenir el vector resultant:</p>

<div class="step">Component Est (u):<br>SSu\ \{res\} =u \ \ nau\ +u \ \ corrent\ +u \ \ vent\ =5.31

1.3 + 6 \approx 12.61\$\$</ div >
  
<div class="step">Component Nord (v):<br>$$v_{res) = v_{nau} + v_{corrent) + v_(vent) = -2.80-0.75-10.39 \approx -13.94$$</div>

<h3>Pas 5: Magnitud i rumb del resultant</h3>

<div class="step">Magnitud del vector resultant (velocitat efectiva):<br>$$S = \sqrt{u_{res}^2 +

v_{res}^2} = \sqrt{12.61^2+(-13.94)^2} \approx 18.8\ kn$$</div>

<div class="step">Rumb del vector resultant: <br>$$\theta = \arctan2(u_{res), v_(res}) = \arctan2(12.61, -13.94) \approx 137.9°$$</div>

<p>Aquesta magnitud i rumb representen la trajectòria i velocitat real de la nau tenint en compte la influència del vent i la corrent, pas essencial per la navegació precisa.</p>

<img src="foto.jpg">

<h2>8) Resum final</h2>

<ul>

<li>Distància: 15.945 NM</li>

<li>Rumb: 117.8°</li>

<li>Temps: 2h 39m 27s</li>

<li>Arribada: 12:22:21</li>

<li>Consum: 47.84 L</li>

<li>Cost: 68.17 €</li>

</ul>

</body>

</html>



